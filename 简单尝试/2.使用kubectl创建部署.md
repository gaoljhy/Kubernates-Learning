# 使用kubectl创建部署

## 目标

1. 了解应用程序部署
2. 使用kubectl在 kubernetes 上部署第一个应用程序

## 创建 Deployment

Deployment 负责创建和更新应用程序实例。

创建 `Deployment` 后， `Kubernetes master` 会将 `Deployment` 创建的应用程序实例调度到集群中的各个节点。

1. 创建应用程序实例后，Kubernetes 部署控制器会持续监视这些实例。
2. 如果托管它的节点不可用或删除，则部署控制器将替换实例。
3. 这提供了一种解决机器故障或维护的自愈机制。

## 部署第一个应用程序

Kubectl 使用 Kubernetes API 与集群进行交互。


1. 创建部署时，需要为应用程序指定容器镜像以及要运行的副本数。
    可以稍后通过更新部署来更改该信息；

2. 应用程序需要打包成支持的容器格式之一，以便部署在 `Kubernetes` 上

###　创建　deployment

`kubectl create deployment <name> --image=<doker-hub-url:url>`

1. 查询一个image
2. 安排应用在一个deployment上运行
3. 配置集群以在需要时在新节点上重新安排实例 

示例

`kubectl create deployment kubernetes-bootcamp --image=gcr.io/google-samples/kubernetes-bootcamp:v1`

### 查看 deployment

`kubectl get deployments`

### Pod

Pods that are running inside Kubernetes are running on a private, isolated network. By default they are visible from other pods and services within the same kubernetes cluster, but not outside that network. When we use kubectl, we're interacting through an API endpoint to communicate with our application.

Pods 是 Kubernetes 内部的私有的隔离网络上运行的。

默认情况下，它们在同一kubernetes集群中的其他Pod和服务中可见，但在该网络外部不可见。

当使用kubectl时，通过API端点进行交互以与应用程序进行通信。



